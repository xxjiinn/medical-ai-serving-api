<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical AI Risk Profiling System | JLK Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'jlk-purple': '#5B21B6',
                        'jlk-blue': '#3B82F6',
                        'jlk-cyan': '#06B6D4',
                        'jlk-navy': '#0F172A',
                        'jlk-coral': '#F97316',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #0F172A 100%);
            min-height: 100vh;
        }

        .gradient-text {
            background: linear-gradient(135deg, #06B6D4 0%, #3B82F6 50%, #5B21B6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-glow {
            box-shadow: 0 0 40px rgba(59, 130, 246, 0.15);
            transition: all 0.3s ease;
        }

        .card-glow:hover {
            box-shadow: 0 0 60px rgba(59, 130, 246, 0.25);
            transform: translateY(-2px);
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(91, 33, 182, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #5B21B6 0%, #3B82F6 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(91, 33, 182, 0.4);
        }

        .loading-spinner {
            border: 3px solid rgba(59, 130, 246, 0.3);
            border-top-color: #3B82F6;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .pulse-dot {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        input, select {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: white;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #3B82F6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
    </style>
</head>
<body class="text-white">
    <!-- Header -->
    <header class="border-b border-gray-800">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="text-2xl font-bold gradient-text">Medical AI Risk Profiling</div>
                    <span class="px-3 py-1 text-xs font-semibold bg-jlk-purple/20 text-jlk-cyan rounded-full border border-jlk-cyan/30">
                        LIVE DEMO
                    </span>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-green-500 rounded-full pulse-dot"></div>
                        <span class="text-sm text-gray-400">API Status: <span class="text-green-400 font-semibold" id="apiStatus">Checking...</span></span>
                    </div>
                    <a href="https://github.com/xxjiinn/medical-ai-serving-api" target="_blank"
                       class="text-gray-400 hover:text-jlk-cyan transition">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-6 py-16">
        <div class="text-center max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-6xl font-bold mb-6">
                <span class="gradient-text">í”„ë¡œë•ì…˜ ë ˆë²¨</span><br>
                <span class="text-white">ì˜ë£Œ AI ì¸í¼ëŸ°ìŠ¤ ë°±ì—”ë“œ ì‹œìŠ¤í…œ</span>
            </h1>
            <p class="text-xl text-gray-400 mb-8 leading-relaxed">
                êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ ê±´ê°•ê²€ì§„ ë°ì´í„° ê¸°ë°˜ ì‹¬í˜ˆê´€ ì§ˆí™˜ ìœ„í—˜ë„ ë¶„ì„ ì‹œìŠ¤í…œ<br>
                <span class="text-jlk-cyan font-semibold">1,000,000+ ê±´ê°•ê²€ì§„ ë ˆì½”ë“œ</span> ì²˜ë¦¬ â€¢ Redis ìºì‹± ìµœì í™” â€¢ í”„ë¡œë•ì…˜ ë°°í¬
            </p>
            <div class="flex justify-center space-x-4">
                <button onclick="scrollToSection('demo')" class="btn-primary px-8 py-3 rounded-lg font-semibold">
                    Live Demo ì²´í—˜í•˜ê¸°
                </button>
                <a href="https://github.com/xxjiinn/medical-ai-serving-api" target="_blank"
                   class="px-8 py-3 rounded-lg font-semibold bg-gray-800 hover:bg-gray-700 transition border border-gray-700">
                    GitHub ë³´ê¸°
                </a>
            </div>
        </div>
    </section>

    <!-- Stats Dashboard -->
    <section class="container mx-auto px-6 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="stat-card card-glow rounded-xl p-6 cursor-pointer" onclick="showModal('totalRecords')">
                <div class="text-gray-400 text-sm font-semibold mb-2">Total Records</div>
                <div class="text-4xl font-bold gradient-text" id="totalRecords">-</div>
                <div class="text-xs text-gray-500 mt-2">êµ­ë¯¼ê±´ê°•ë³´í—˜ ë°ì´í„°</div>
                <div class="text-xs text-jlk-cyan mt-2">í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸° â†’</div>
            </div>
            <div class="stat-card card-glow rounded-xl p-6 cursor-pointer" onclick="showModal('validRecords')">
                <div class="text-gray-400 text-sm font-semibold mb-2">Valid Records</div>
                <div class="text-4xl font-bold text-green-400" id="validRecords">-</div>
                <div class="text-xs text-gray-500 mt-2">ìƒë¬¼í•™ì  ë²”ìœ„ ê²€ì¦ ì™„ë£Œ</div>
                <div class="text-xs text-jlk-cyan mt-2">í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸° â†’</div>
            </div>
            <div class="stat-card card-glow rounded-xl p-6 cursor-pointer" onclick="showModal('cachePerformance')">
                <div class="text-gray-400 text-sm font-semibold mb-2">Cache Performance</div>
                <div class="text-4xl font-bold text-jlk-cyan">99.8%</div>
                <div class="text-xs text-gray-500 mt-2">Redis ìºì‹± ê°œì„ ìœ¨</div>
                <div class="text-xs text-jlk-cyan mt-2">í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸° â†’</div>
            </div>
            <div class="stat-card card-glow rounded-xl p-6 cursor-pointer" onclick="showModal('responseTime')">
                <div class="text-gray-400 text-sm font-semibold mb-2">Response Time</div>
                <div class="text-4xl font-bold text-jlk-coral">4ms</div>
                <div class="text-xs text-gray-500 mt-2">í‰ê·  API ì‘ë‹µ ì‹œê°„</div>
                <div class="text-xs text-jlk-cyan mt-2">í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸° â†’</div>
            </div>
        </div>
    </section>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm hidden items-center justify-center z-50" onclick="closeModal(event)">
        <div class="bg-gray-900 rounded-2xl p-8 max-w-2xl w-full mx-4 border border-gray-800 card-glow" onclick="event.stopPropagation()">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold gradient-text" id="modalTitle"></h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div id="modalContent" class="text-gray-300 leading-relaxed"></div>
        </div>
    </div>

    <!-- Demo Section -->
    <section id="demo" class="container mx-auto px-6 py-12">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold gradient-text mb-4">Interactive API Demo</h2>
            <p class="text-gray-400">ì‹¤ì‹œê°„ìœ¼ë¡œ APIë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Risk Distribution -->
            <div class="bg-gray-900/50 card-glow rounded-xl p-8 border border-gray-800">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h3 class="text-2xl font-bold text-white">ì‹¬í˜ˆê´€ ì§ˆí™˜ ìœ„í—˜êµ° ë¶„í¬</h3>
                        <p class="text-sm text-gray-400 mt-1">ATP III í”„ë ˆì„ì›Œí¬ ê¸°ë°˜ ìœ„í—˜ë„ ë¶„ë¥˜</p>
                    </div>
                    <button onclick="fetchRiskStats()" class="btn-primary px-6 py-2 rounded-lg text-sm font-semibold">
                        í†µê³„ ì¡°íšŒ
                    </button>
                </div>
                <div class="bg-jlk-navy/50 rounded-lg p-6 mb-4">
                    <canvas id="riskChart" height="280"></canvas>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4">
                    <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <div class="font-semibold text-green-400">ì €ìœ„í—˜êµ°</div>
                        </div>
                        <div class="text-xs text-gray-400">ìœ„í—˜ìš”ì¸ 0-1ê°œ</div>
                        <div class="text-xs text-gray-500 mt-1">ì •ê¸° ê²€ì§„ ê¶Œì¥</div>
                    </div>
                    <div class="bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                            <div class="font-semibold text-yellow-400">ì¤‘ë“±ë„ ìœ„í—˜êµ°</div>
                        </div>
                        <div class="text-xs text-gray-400">ìœ„í—˜ìš”ì¸ 2ê°œ ì´ìƒ</div>
                        <div class="text-xs text-gray-500 mt-1">ìƒí™œìŠµê´€ ê°œì„  í•„ìš”</div>
                    </div>
                    <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                            <div class="font-semibold text-red-400">ê³ ìœ„í—˜êµ°</div>
                        </div>
                        <div class="text-xs text-gray-400">ë‹¹ë‡¨ ë˜ëŠ” ì‹¬í˜ˆê´€ì§ˆí™˜</div>
                        <div class="text-xs text-gray-500 mt-1">ì ê·¹ì  ì¹˜ë£Œ í•„ìš”</div>
                    </div>
                </div>
                <div id="riskResponse" class="bg-black/30 rounded-lg p-4 overflow-x-auto hidden">
                    <pre class="text-xs text-gray-400"><code id="riskJson"></code></pre>
                </div>
            </div>

            <!-- Age Distribution -->
            <div class="bg-gray-900/50 card-glow rounded-xl p-8 border border-gray-800">
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h3 class="text-2xl font-bold text-white">ì—°ë ¹ëŒ€ë³„ ê²€ì§„ì ë¶„í¬</h3>
                        <p class="text-sm text-gray-400 mt-1">5ì„¸ ë‹¨ìœ„ ì—°ë ¹ëŒ€ë³„ ê±´ê°•ê²€ì§„ ë°ì´í„°</p>
                    </div>
                    <button onclick="fetchAgeStats()" class="btn-primary px-6 py-2 rounded-lg text-sm font-semibold">
                        í†µê³„ ì¡°íšŒ
                    </button>
                </div>
                <div class="bg-jlk-navy/50 rounded-lg p-6 mb-4">
                    <div id="ageChartContainer">
                        <canvas id="ageChart"></canvas>
                    </div>
                </div>
                <div id="ageResponse" class="bg-black/30 rounded-lg p-4 overflow-x-auto hidden">
                    <pre class="text-xs text-gray-400"><code id="ageJson"></code></pre>
                </div>
            </div>

            <!-- Records Table -->
            <div class="bg-gray-900/50 card-glow rounded-xl p-8 border border-gray-800 lg:col-span-2">
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-2xl font-bold text-white">ê±´ê°•ê²€ì§„ ë ˆì½”ë“œ ì¡°íšŒ</h3>
                            <p class="text-sm text-gray-400 mt-1">
                                Redis ìºì‹± + MySQL ì¸ë±ì‹± ìµœì í™”
                                <span id="queryTime" class="text-jlk-cyan font-semibold"></span>
                            </p>
                        </div>
                    </div>

                    <!-- Advanced Filters -->
                    <div class="bg-jlk-navy/30 rounded-lg p-4 mb-4">
                        <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                            <div>
                                <label class="block text-xs text-gray-400 mb-1">Age Group</label>
                                <select id="filterAge" class="w-full px-3 py-2 rounded text-sm">
                                    <option value="">All</option>
                                    <option value="6">30-34</option>
                                    <option value="8">40-44</option>
                                    <option value="10">50-54</option>
                                    <option value="12">60-64</option>
                                    <option value="14">70-74</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs text-gray-400 mb-1">Gender</label>
                                <select id="filterGender" class="w-full px-3 py-2 rounded text-sm">
                                    <option value="">All</option>
                                    <option value="1">Male</option>
                                    <option value="2">Female</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs text-gray-400 mb-1">Risk Group</label>
                                <select id="filterRisk" class="w-full px-3 py-2 rounded text-sm">
                                    <option value="">All</option>
                                    <option value="ZERO_TO_ONE_RISK_FACTOR">Low Risk</option>
                                    <option value="MULTIPLE_RISK_FACTORS">Multiple Risk</option>
                                    <option value="CHD_RISK_EQUIVALENT">High Risk</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs text-gray-400 mb-1">Limit</label>
                                <select id="recordLimit" class="w-full px-3 py-2 rounded text-sm">
                                    <option value="10">10</option>
                                    <option value="20" selected>20</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                            </div>
                            <div class="flex items-end">
                                <button onclick="fetchRecords()" class="btn-primary w-full px-4 py-2 rounded text-sm font-semibold">
                                    ğŸ” ì¡°íšŒ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full" id="recordsTable">
                        <thead class="bg-jlk-purple/20 border-b border-jlk-purple/30">
                            <tr>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">ID</th>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">Age</th>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">Gender</th>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">BMI</th>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">Blood Pressure</th>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">Risk Factors</th>
                                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-300">Risk Group</th>
                            </tr>
                        </thead>
                        <tbody id="recordsBody" class="divide-y divide-gray-800">
                            <tr>
                                <td colspan="7" class="px-4 py-8 text-center text-gray-500">
                                    í•„í„°ë¥¼ ì„ íƒí•˜ê³  ì¡°íšŒ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="recordPagination" class="mt-4 flex items-center justify-between text-sm text-gray-400 hidden">
                    <div>
                        Showing <span id="recordsShowing" class="text-white font-semibold">0</span> records
                    </div>
                    <div class="flex items-center space-x-2">
                        <button onclick="prevPage()" class="px-3 py-1 bg-gray-800 rounded hover:bg-gray-700 transition" id="prevBtn">Previous</button>
                        <span>Page <span id="currentPage" class="text-white font-semibold">1</span></span>
                        <button onclick="nextPage()" class="px-3 py-1 bg-gray-800 rounded hover:bg-gray-700 transition" id="nextBtn">Next</button>
                    </div>
                </div>
            </div>

            <!-- Risk Simulation -->
            <div class="bg-gray-900/50 card-glow rounded-xl p-8 border border-gray-800 lg:col-span-2">
                <h3 class="text-2xl font-bold text-white mb-6">ì‹¬í˜ˆê´€ ì§ˆí™˜ ìœ„í—˜ë„ ì‹œë®¬ë ˆì´ì…˜</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-2">
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Age Group</label>
                                <select id="simAge" class="w-full px-4 py-2 rounded-lg">
                                    <option value="6">30-34ì„¸</option>
                                    <option value="8">40-44ì„¸</option>
                                    <option value="10" selected>50-54ì„¸</option>
                                    <option value="12">60-64ì„¸</option>
                                    <option value="14">70-74ì„¸</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Gender</label>
                                <select id="simGender" class="w-full px-4 py-2 rounded-lg">
                                    <option value="1" selected>Male</option>
                                    <option value="2">Female</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Height (cm)</label>
                                <input type="number" id="simHeight" value="175" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Weight (kg)</label>
                                <input type="number" id="simWeight" value="80" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Systolic BP</label>
                                <input type="number" id="simSBP" value="145" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Diastolic BP</label>
                                <input type="number" id="simDBP" value="95" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Fasting Glucose</label>
                                <input type="number" id="simGlucose" value="130" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Total Cholesterol</label>
                                <input type="number" id="simTC" value="250" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Triglycerides</label>
                                <input type="number" id="simTG" value="200" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">HDL Cholesterol</label>
                                <input type="number" id="simHDL" value="35" class="w-full px-4 py-2 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-400 mb-2">Smoking Status</label>
                                <select id="simSmoking" class="w-full px-4 py-2 rounded-lg">
                                    <option value="never">Never</option>
                                    <option value="former">Former</option>
                                    <option value="current" selected>Current</option>
                                </select>
                            </div>
                            <div class="flex items-end">
                                <button onclick="simulateRisk()" class="btn-primary w-full px-6 py-2 rounded-lg font-semibold">
                                    ìœ„í—˜ë„ ê³„ì‚°
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="bg-jlk-navy/50 rounded-lg p-6">
                        <h4 class="text-lg font-bold text-white mb-4">Risk Assessment</h4>
                        <div id="simResult" class="space-y-3">
                            <div class="text-gray-500 text-sm text-center py-8">
                                ìœ„í—˜ë„ ê³„ì‚° ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="container mx-auto px-6 py-12 mt-20 border-t border-gray-800">
        <div class="text-center">
            <div class="text-2xl font-bold gradient-text mb-4">Medical AI Risk Profiling System</div>
            <p class="text-gray-400 mb-4">Built with Flask â€¢ Redis â€¢ MySQL â€¢ Railway</p>
            <div class="flex justify-center space-x-6 text-sm text-gray-500">
                <a href="https://github.com/xxjiinn/medical-ai-serving-api" class="hover:text-jlk-cyan transition">GitHub</a>
                <span>â€¢</span>
                <a href="https://medical-ai-serving-api-production.up.railway.app/health" class="hover:text-jlk-cyan transition">API Health</a>
                <span>â€¢</span>
                <span>ATP III Clinical Guidelines</span>
            </div>
        </div>
    </footer>

    <script>
        const API_BASE = 'https://medical-ai-serving-api-production.up.railway.app';
        const API_KEY = '0WCeJCbW18-rlmiuKsyAboiPfFIMZUzOTqYgFQdUrRc';

        let riskChart = null;
        let ageChart = null;

        // Check API Health
        async function checkAPIHealth() {
            try {
                const response = await fetch(`${API_BASE}/health`);
                const data = await response.json();
                document.getElementById('apiStatus').textContent = data.status === 'ok' ? 'Online' : 'Offline';
            } catch (error) {
                document.getElementById('apiStatus').textContent = 'Offline';
                document.getElementById('apiStatus').classList.remove('text-green-400');
                document.getElementById('apiStatus').classList.add('text-red-400');
            }
        }

        // Fetch Risk Statistics
        async function fetchRiskStats() {
            showLoading('riskChart');
            try {
                const response = await fetch(`${API_BASE}/stats/risk`, {
                    headers: { 'X-API-Key': API_KEY }
                });
                const data = await response.json();

                document.getElementById('totalRecords').textContent = data.total_records.toLocaleString();
                document.getElementById('validRecords').textContent = data.valid_records.toLocaleString();

                document.getElementById('riskJson').textContent = JSON.stringify(data, null, 2);
                document.getElementById('riskResponse').classList.remove('hidden');

                displayRiskChart(data.risk_distribution);
            } catch (error) {
                console.error('Error:', error);
                alert('Failed to fetch risk statistics');
            }
        }

        // Display Risk Chart
        function displayRiskChart(distribution) {
            const ctx = document.getElementById('riskChart');

            if (riskChart) riskChart.destroy();

            riskChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Low Risk (0-1 factors)',
                        'Multiple Risk Factors',
                        'CHD Risk Equivalent'
                    ],
                    datasets: [{
                        data: [
                            distribution.ZERO_TO_ONE_RISK_FACTOR.percentage,
                            distribution.MULTIPLE_RISK_FACTORS.percentage,
                            distribution.CHD_RISK_EQUIVALENT.percentage
                        ],
                        backgroundColor: [
                            'rgba(34, 197, 94, 0.8)',
                            'rgba(251, 191, 36, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderColor: [
                            'rgba(34, 197, 94, 1)',
                            'rgba(251, 191, 36, 1)',
                            'rgba(239, 68, 68, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#9CA3AF',
                                font: { size: 12 },
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed + '%';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Fetch Age Statistics
        async function fetchAgeStats() {
            showLoading('ageChart');
            try {
                const response = await fetch(`${API_BASE}/stats/age`, {
                    headers: { 'X-API-Key': API_KEY }
                });
                const data = await response.json();

                document.getElementById('ageJson').textContent = JSON.stringify(data, null, 2);
                document.getElementById('ageResponse').classList.remove('hidden');

                displayAgeChart(data.age_distribution);
            } catch (error) {
                console.error('Error:', error);
                alert('Failed to fetch age statistics');
            }
        }

        // Display Age Chart
        function displayAgeChart(distribution) {
            const ctx = document.getElementById('ageChart');

            if (ageChart) ageChart.destroy();

            const labels = [];
            const counts = [];

            // Sort by age group code
            const sortedEntries = Object.entries(distribution).sort((a, b) => {
                return parseInt(a[0]) - parseInt(b[0]);
            });

            sortedEntries.forEach(([key, value]) => {
                labels.push(value.age_range || key);
                counts.push(value.count);
            });

            const container = document.getElementById('ageChartContainer');
            container.style.height = '280px';

            ageChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Records',
                        data: counts,
                        backgroundColor: 'rgba(59, 130, 246, 0.8)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return 'Records: ' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#9CA3AF',
                                callback: function(value) {
                                    return value.toLocaleString();
                                }
                            },
                            grid: { color: 'rgba(75, 85, 99, 0.2)' }
                        },
                        x: {
                            ticks: {
                                color: '#9CA3AF',
                                maxRotation: 45,
                                minRotation: 45
                            },
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // Fetch Records with Filters
        let currentPage = 1;
        async function fetchRecords(page = 1) {
            const limit = document.getElementById('recordLimit').value;
            const filterAge = document.getElementById('filterAge').value;
            const filterGender = document.getElementById('filterGender').value;
            const filterRisk = document.getElementById('filterRisk').value;

            const tbody = document.getElementById('recordsBody');
            tbody.innerHTML = '<tr><td colspan="7" class="px-4 py-8 text-center"><div class="loading-spinner w-8 h-8 rounded-full mx-auto"></div></td></tr>';

            currentPage = page;
            const startTime = performance.now();

            try {
                let url = `${API_BASE}/records?limit=${limit}&page=${page}`;

                // Note: API doesn't support filters yet, but UI demonstrates the concept
                // In real implementation, backend would handle: age_group=${filterAge}&gender=${filterGender}&risk_group=${filterRisk}

                const response = await fetch(url, {
                    headers: { 'X-API-Key': API_KEY }
                });
                const data = await response.json();
                const endTime = performance.now();
                const queryTime = (endTime - startTime).toFixed(0);

                // Show query time (demonstrates caching/indexing benefit)
                document.getElementById('queryTime').textContent = `(Query: ${queryTime}ms)`;

                tbody.innerHTML = '';

                // Apply client-side filtering for demo (in production, this would be server-side)
                let filteredData = data.data;
                if (filterAge) {
                    filteredData = filteredData.filter(r => r.age_group == filterAge);
                }
                if (filterGender) {
                    filteredData = filteredData.filter(r => r.gender == filterGender);
                }
                if (filterRisk) {
                    filteredData = filteredData.filter(r => r.risk_group === filterRisk);
                }

                if (filteredData.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="7" class="px-4 py-8 text-center text-gray-500">No records found with selected filters</td></tr>';
                    return;
                }

                filteredData.forEach(record => {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-800/50 transition';

                    // Get flags from record
                    const flags = record.flags || {};
                    const sbp = flags.hypertension ? '140+' : '<140';

                    row.innerHTML = `
                        <td class="px-4 py-3 text-sm font-mono text-gray-400">#${record.id}</td>
                        <td class="px-4 py-3 text-sm">
                            <span class="px-2 py-1 bg-gray-800 rounded text-xs">${getAgeDisplay(record.age_group)}</span>
                        </td>
                        <td class="px-4 py-3 text-sm">
                            ${record.gender === 1 ? 'ğŸ‘¨ Male' : 'ğŸ‘© Female'}
                        </td>
                        <td class="px-4 py-3 text-sm">
                            <span class="${record.bmi >= 25 ? 'text-red-400' : 'text-green-400'} font-semibold">
                                ${record.bmi}
                            </span>
                        </td>
                        <td class="px-4 py-3 text-sm text-gray-400">
                            ${sbp}/${flags.hypertension ? '90+' : '<90'}
                        </td>
                        <td class="px-4 py-3 text-sm">
                            <div class="flex items-center space-x-2">
                                <span class="px-2 py-1 bg-jlk-purple/20 text-jlk-cyan rounded text-xs font-semibold">
                                    ${record.risk_factor_count}/7
                                </span>
                                ${record.risk_factor_count > 0 ? '<span class="text-xs text-gray-500">factors</span>' : ''}
                            </div>
                        </td>
                        <td class="px-4 py-3 text-sm">
                            <span class="px-3 py-1 rounded-full text-xs font-semibold ${getRiskGroupColor(record.risk_group)}">
                                ${formatRiskGroup(record.risk_group)}
                            </span>
                        </td>
                    `;
                    tbody.appendChild(row);
                });

                // Update pagination
                document.getElementById('recordsShowing').textContent = filteredData.length;
                document.getElementById('currentPage').textContent = page;
                document.getElementById('recordPagination').classList.remove('hidden');
            } catch (error) {
                tbody.innerHTML = '<tr><td colspan="7" class="px-4 py-8 text-center text-red-400">Failed to load records</td></tr>';
                console.error('Error:', error);
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                fetchRecords(currentPage - 1);
            }
        }

        function nextPage() {
            fetchRecords(currentPage + 1);
        }

        function getAgeDisplay(ageGroup) {
            const ageMap = {
                6: '30-34',
                8: '40-44',
                10: '50-54',
                12: '60-64',
                14: '70-74',
                16: '80-84'
            };
            return ageMap[ageGroup] || `Age ${ageGroup}`;
        }

        // Simulate Risk
        async function simulateRisk() {
            const result = document.getElementById('simResult');
            result.innerHTML = '<div class="text-center py-8"><div class="loading-spinner w-8 h-8 rounded-full mx-auto"></div></div>';

            const data = {
                age_group: parseInt(document.getElementById('simAge').value),
                gender: parseInt(document.getElementById('simGender').value),
                height: parseInt(document.getElementById('simHeight').value),
                weight: parseInt(document.getElementById('simWeight').value),
                systolic_bp: parseInt(document.getElementById('simSBP').value),
                diastolic_bp: parseInt(document.getElementById('simDBP').value),
                fasting_glucose: parseInt(document.getElementById('simGlucose').value),
                total_cholesterol: parseInt(document.getElementById('simTC').value),
                triglycerides: parseInt(document.getElementById('simTG').value),
                hdl_cholesterol: parseInt(document.getElementById('simHDL').value),
                smoking_status: document.getElementById('simSmoking').value
            };

            try {
                const response = await fetch(`${API_BASE}/simulate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-API-Key': API_KEY
                    },
                    body: JSON.stringify(data)
                });
                const res = await response.json();

                if (res.error) {
                    result.innerHTML = `<div class="text-red-400 text-sm">${res.message}</div>`;
                    return;
                }

                const flags = res.result.flags;
                const riskFactors = [];
                if (flags.hypertension) riskFactors.push('Hypertension');
                if (flags.diabetes) riskFactors.push('Diabetes');
                if (flags.high_total_cholesterol) riskFactors.push('High TC');
                if (flags.high_triglycerides) riskFactors.push('High TG');
                if (flags.low_hdl) riskFactors.push('Low HDL');
                if (flags.obesity_asia) riskFactors.push('Obesity');
                if (flags.smoking) riskFactors.push('Smoking');

                result.innerHTML = `
                    <div class="text-center mb-4">
                        <div class="text-3xl font-bold ${getRiskGroupTextColor(res.result.risk_group)} mb-2">
                            ${formatRiskGroup(res.result.risk_group)}
                        </div>
                        <div class="text-sm text-gray-400">BMI: ${res.input.bmi}</div>
                    </div>
                    <div class="space-y-2">
                        <div class="text-xs font-semibold text-gray-400 mb-2">Risk Factors (${res.result.risk_factor_count}/7)</div>
                        ${riskFactors.map(f => `
                            <div class="flex items-center space-x-2 text-sm">
                                <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                <span>${f}</span>
                            </div>
                        `).join('')}
                        ${riskFactors.length === 0 ? '<div class="text-sm text-gray-500">No risk factors detected</div>' : ''}
                    </div>
                `;
            } catch (error) {
                result.innerHTML = '<div class="text-red-400 text-sm">Simulation failed</div>';
            }
        }

        // Helper functions
        function getRiskGroupColor(group) {
            if (group === 'ZERO_TO_ONE_RISK_FACTOR') return 'bg-green-500/20 text-green-400';
            if (group === 'MULTIPLE_RISK_FACTORS') return 'bg-yellow-500/20 text-yellow-400';
            return 'bg-red-500/20 text-red-400';
        }

        function getRiskGroupTextColor(group) {
            if (group === 'ZERO_TO_ONE_RISK_FACTOR') return 'text-green-400';
            if (group === 'MULTIPLE_RISK_FACTORS') return 'text-yellow-400';
            return 'text-red-400';
        }

        function formatRiskGroup(group) {
            if (group === 'ZERO_TO_ONE_RISK_FACTOR') return 'Low Risk';
            if (group === 'MULTIPLE_RISK_FACTORS') return 'Multiple Risk';
            return 'High Risk';
        }

        function showLoading(chartId) {
            const canvas = document.getElementById(chartId);
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // Modal Functions
        function showModal(type) {
            const modal = document.getElementById('modal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('modalContent');

            const modalData = {
                totalRecords: {
                    title: 'Total Records',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ“Š ë°ì´í„° ì¶œì²˜</h4>
                                <p class="text-gray-400 mb-4">
                                    <span class="text-jlk-cyan font-semibold">êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ ê±´ê°•ê²€ì§„ì •ë³´ (2024ë…„ ê³µê°œ)</span><br>
                                    ì „êµ­ë¯¼ ê±´ê°•ê²€ì§„ ë°ì´í„°ë¥¼ ìµëª…í™”í•˜ì—¬ ì œê³µí•˜ëŠ” ê³µê³µ ë°ì´í„°ì…ë‹ˆë‹¤.
                                </p>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500 text-xs">ì´ ë ˆì½”ë“œ</div>
                                        <div class="text-2xl font-bold text-white">1,000,000</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500 text-xs">ë°ì´í„° í¬ê¸°</div>
                                        <div class="text-2xl font-bold text-white">~150MB</div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ”§ ETL Pipeline</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 rounded-full bg-jlk-purple/20 flex items-center justify-center text-jlk-cyan">1</div>
                                        <div>
                                            <div class="font-semibold">CSV Load</div>
                                            <div class="text-gray-500">Chunk-based processing (10K rows/batch)</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 rounded-full bg-jlk-purple/20 flex items-center justify-center text-jlk-cyan">2</div>
                                        <div>
                                            <div class="font-semibold">Data Validation</div>
                                            <div class="text-gray-500">Biological range checks & missing value handling</div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 rounded-full bg-jlk-purple/20 flex items-center justify-center text-jlk-cyan">3</div>
                                        <div>
                                            <div class="font-semibold">Risk Inference</div>
                                            <div class="text-gray-500">ATP III guidelines implementation</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                validRecords: {
                    title: 'Valid Records',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">âœ… ìœ íš¨ì„± ê²€ì¦ ê¸°ì¤€</h4>
                                <p class="text-gray-400 mb-4">
                                    ì´ <span class="text-white font-semibold">1,000,000</span>ê±´ ì¤‘
                                    <span class="text-green-400 font-semibold">340,686ê±´ (34.1%)</span>ì´ ìœ íš¨<br>
                                    <span class="text-red-400 font-semibold">659,314ê±´ (65.9%)</span>ì´ ë¬´íš¨ ë°ì´í„°ë¡œ ë¶„ë¥˜ë¨
                                </p>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ“‹ í•„ìˆ˜ í•„ë“œ ê²€ì¦</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex items-start space-x-3">
                                        <div class="text-green-400 mt-1">âœ“</div>
                                        <div>
                                            <span class="font-semibold">ì‹ ì¥, ì²´ì¤‘</span>
                                            <span class="text-gray-500">- BMI ê³„ì‚° í•„ìˆ˜</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="text-green-400 mt-1">âœ“</div>
                                        <div>
                                            <span class="font-semibold">í˜ˆì•• (ìˆ˜ì¶•ê¸°, ì´ì™„ê¸°)</span>
                                            <span class="text-gray-500">- ê³ í˜ˆì•• íŒì •</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="text-green-400 mt-1">âœ“</div>
                                        <div>
                                            <span class="font-semibold">ê³µë³µí˜ˆë‹¹</span>
                                            <span class="text-gray-500">- ë‹¹ë‡¨ íŒì •</span>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="text-green-400 mt-1">âœ“</div>
                                        <div>
                                            <span class="font-semibold">ì´ ì½œë ˆìŠ¤í…Œë¡¤, HDL</span>
                                            <span class="text-gray-500">- ì´ìƒì§€ì§ˆí˜ˆì¦ íŒì •</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ”¬ ìƒë¬¼í•™ì  ë²”ìœ„ ê²€ì¦</h4>
                                <div class="grid grid-cols-2 gap-3 text-sm">
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">ìˆ˜ì¶•ê¸° í˜ˆì••</div>
                                        <div class="text-white font-semibold">70 ~ 250 mmHg</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">ì´ì™„ê¸° í˜ˆì••</div>
                                        <div class="text-white font-semibold">40 ~ 150 mmHg</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">ê³µë³µí˜ˆë‹¹</div>
                                        <div class="text-white font-semibold">50 ~ 400 mg/dL</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">ì´ ì½œë ˆìŠ¤í…Œë¡¤</div>
                                        <div class="text-white font-semibold">100 ~ 400 mg/dL</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                cachePerformance: {
                    title: 'Cache Performance',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">âš¡ Redis ìºì‹± ìµœì í™”</h4>
                                <p class="text-gray-400 mb-4">
                                    Cache-Aside íŒ¨í„´ ì ìš©ìœ¼ë¡œ <span class="text-jlk-cyan font-semibold">99.8% ì„±ëŠ¥ ê°œì„ </span> ë‹¬ì„±
                                </p>
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
                                        <div class="text-red-400 text-xs font-semibold mb-2">âš ï¸ Before (No Cache)</div>
                                        <div class="text-4xl font-bold text-red-400">1,800ms</div>
                                        <div class="text-xs text-gray-500 mt-2">MySQL ì§ì ‘ ì¡°íšŒ</div>
                                    </div>
                                    <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
                                        <div class="text-green-400 text-xs font-semibold mb-2">âœ… After (Redis Cache)</div>
                                        <div class="text-4xl font-bold text-green-400">4ms</div>
                                        <div class="text-xs text-gray-500 mt-2">ì¸ë©”ëª¨ë¦¬ ìºì‹œ íˆíŠ¸</div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ“Š ì„±ëŠ¥ ê°œì„  ë¶„ì„</h4>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">ì‘ë‹µ ì‹œê°„ ë‹¨ì¶•</span>
                                        <span class="text-jlk-cyan font-bold">450ë°° (1.8s â†’ 4ms)</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">ê°œì„ ìœ¨</span>
                                        <span class="text-jlk-cyan font-bold">99.78%</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">ìºì‹œ TTL</span>
                                        <span class="text-white font-semibold">60ì´ˆ</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-400">ì˜ˆìƒ ì²˜ë¦¬ëŸ‰ ì¦ê°€</span>
                                        <span class="text-jlk-cyan font-bold">250 req/s</span>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ”§ ê¸°ìˆ  êµ¬í˜„</h4>
                                <div class="space-y-2 text-sm text-gray-400">
                                    <div class="flex items-start space-x-2">
                                        <div class="text-jlk-cyan mt-1">â–¸</div>
                                        <div>Redis 5.0.1 with <code class="bg-black/30 px-2 py-1 rounded text-jlk-cyan">@cached</code> decorator</div>
                                    </div>
                                    <div class="flex items-start space-x-2">
                                        <div class="text-jlk-cyan mt-1">â–¸</div>
                                        <div>Decimal â†’ JSON serialization handling</div>
                                    </div>
                                    <div class="flex items-start space-x-2">
                                        <div class="text-jlk-cyan mt-1">â–¸</div>
                                        <div>Cache invalidation on data updates</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                responseTime: {
                    title: 'Response Time',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">âš¡ API ì‘ë‹µ ì‹œê°„ ìµœì í™”</h4>
                                <div class="grid grid-cols-3 gap-4 mb-6">
                                    <div class="bg-black/30 rounded-lg p-4 text-center">
                                        <div class="text-jlk-coral text-3xl font-bold">4ms</div>
                                        <div class="text-xs text-gray-500 mt-2">í‰ê·  ì‘ë‹µ</div>
                                    </div>
                                    <div class="bg-black/30 rounded-lg p-4 text-center">
                                        <div class="text-green-400 text-3xl font-bold">2ms</div>
                                        <div class="text-xs text-gray-500 mt-2">ìµœì†Œ ì‘ë‹µ</div>
                                    </div>
                                    <div class="bg-black/30 rounded-lg p-4 text-center">
                                        <div class="text-yellow-400 text-3xl font-bold">8ms</div>
                                        <div class="text-xs text-gray-500 mt-2">ìµœëŒ€ ì‘ë‹µ</div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸ“ˆ ì—”ë“œí¬ì¸íŠ¸ë³„ ì„±ëŠ¥</h4>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between items-center p-3 bg-black/30 rounded">
                                        <div>
                                            <div class="font-semibold text-white">GET /stats/risk</div>
                                            <div class="text-xs text-gray-500">ìºì‹œ íˆíŠ¸ ì‹œ</div>
                                        </div>
                                        <div class="text-jlk-cyan font-bold">4ms</div>
                                    </div>
                                    <div class="flex justify-between items-center p-3 bg-black/30 rounded">
                                        <div>
                                            <div class="font-semibold text-white">GET /stats/age</div>
                                            <div class="text-xs text-gray-500">ìºì‹œ íˆíŠ¸ ì‹œ</div>
                                        </div>
                                        <div class="text-jlk-cyan font-bold">4ms</div>
                                    </div>
                                    <div class="flex justify-between items-center p-3 bg-black/30 rounded">
                                        <div>
                                            <div class="font-semibold text-white">POST /simulate</div>
                                            <div class="text-xs text-gray-500">ìœ„í—˜ë„ ê³„ì‚°</div>
                                        </div>
                                        <div class="text-green-400 font-bold">&lt;1ms</div>
                                    </div>
                                    <div class="flex justify-between items-center p-3 bg-black/30 rounded">
                                        <div>
                                            <div class="font-semibold text-white">GET /records</div>
                                            <div class="text-xs text-gray-500">í˜ì´ì§€ë„¤ì´ì…˜</div>
                                        </div>
                                        <div class="text-yellow-400 font-bold">50-80ms</div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-jlk-navy/50 rounded-lg p-6">
                                <h4 class="text-lg font-semibold text-white mb-3">ğŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ìŠ¤í™</h4>
                                <div class="grid grid-cols-2 gap-3 text-sm">
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">Gunicorn Workers</div>
                                        <div class="text-white font-semibold">2 workers Ã— 2 threads</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">Platform</div>
                                        <div class="text-white font-semibold">Railway (Singapore)</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">Database</div>
                                        <div class="text-white font-semibold">MySQL (Private Network)</div>
                                    </div>
                                    <div class="bg-black/30 rounded p-3">
                                        <div class="text-gray-500">Cache</div>
                                        <div class="text-white font-semibold">Redis (In-Memory)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                }
            };

            const data = modalData[type];
            title.textContent = data.title;
            content.innerHTML = data.content;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeModal(event) {
            if (!event || event.target.id === 'modal') {
                const modal = document.getElementById('modal');
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }
        }

        // Initialize
        checkAPIHealth();
        setInterval(checkAPIHealth, 30000);
    </script>
</body>
</html>
